<div *ngIf="episodeList().length > 0" class="episodeDIVWrapper">
  <div
    *ngFor="let episode of episodeList()"
    [class]="
      checkEpisodeInCurrentTracklist(episode.id)
        ? 'episodeInTracklistDIV'
        : 'episodeDIV'
    "
  >
    <div (click)="openDialog(episode)">
      <p [pTooltip]="episode.name">
        E{{ episode.episodeNumber }}:
        {{ stringService.shortenString(episode.name) }}
      </p>
    </div>
    <p-button
      *ngIf="!checkEpisodeInCurrentTracklist(episode.id)"
      icon="pi pi-plus"
      severity="secondary"
      pTooltip="Episode zur Watchlist hinzufÃ¼gen"
      (onClick)="selectEpisode(episode, false)"
    />
    <p-button
      *ngIf="checkEpisodeInCurrentTracklist(episode.id)"
      icon="pi pi-pencil"
      severity="secondary"
      pTooltip="Episode bearbeiten"
      (onClick)="selectEpisode(episode, true)"
    />
  </div>
</div>

<p-dialog
  *ngIf="isEpisodeDialogVisible && currentEpisodeForDialog"
  [(visible)]="isEpisodeDialogVisible"
  [header]="currentEpisodeForDialog.name"
  [modal]="true"
  [draggable]="false"
  [style]="{ width: '80%', height: 'auto' }"
>
  <div class="episodeDialogDIV">
    <p>{{ currentEpisodeForDialog.overview }}</p>
    <p>Ausstrahlung: {{ currentEpisodeForDialog.airDate | dateFormatting }}</p>
  </div>
</p-dialog>
