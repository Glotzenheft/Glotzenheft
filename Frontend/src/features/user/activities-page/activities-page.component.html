<div class="pagination">
  <p-button
    icon="pi pi-angle-left"
    pTooltip="vorherige Seite"
    [rounded]="true"
    [raised]="true"
    (onClick)="changeToPreviousPage()"
    [disabled]="isLeftButtonDisabled"
  />

  <p>aktuelle Seite: {{ this.currentPage }}</p>
  <p-button
    icon="pi pi-angle-right"
    pTooltip="nächste Seite"
    [rounded]="true"
    [raised]="true"
    (onClick)="changeToNextPage()"
    [disabled]="isRightButtonDisabled"
  />
</div>

<div
  *ngIf="userActivitiesRequest$ | async as userActivitiesRequest"
  class="userActivitiesTable"
>
  <div class="userActivitesTableDIV">
    <p-table
      [value]="userActivitiesListWithDaySplitter"
      stripedRows
      [loading]="isTableLoading"
    >
      <ng-template #header>
        <tr>
          <th>Vorschau/Poster</th>
          <th>Datum</th>
          <th>Episode</th>
          <th>Film/Serie</th>
          <th>Tracklist-Name</th>
        </tr>
      </ng-template>

      <ng-template #body let-tracklist>
        <tr *ngIf="!tracklist.isDateSplitter">
          <td *ngIf="getPicture(tracklist)">
            <img
              [src]="posterPath + getPicture(tracklist)"
              [alt]="'Poster für ' + tracklist.mediaTitle"
              loading="lazy"
            />
          </td>
          <td *ngIf="!getPicture(tracklist)">
            <i>kein Bild vorhanden</i>
          </td>
          <td>
            {{ tracklist.date | dateFormatting }}
          </td>
          <td>
            {{ tracklist.episodeNumber }}
          </td>
          <td>
            <p class="mediaRow" (click)="onClickActivity(tracklist)">
              {{ tracklist.mediaTitle }}
            </p>
          </td>
          <td>{{ tracklist.tracklistName }}</td>
        </tr>

        <tr *ngIf="tracklist.isDateSplitter">
          <td>
            <b>{{ tracklist.date }}</b>
          </td>
          <td></td>
          <td></td>
          <td>
            <b>Geschaut: {{ tracklist.episodeID }}x</b>
          </td>
          <td>
            <b>{{ tracklist.runtime }} Minuten</b>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>
<div class="gapDIV"></div>
